<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-content"/>
  <meta name="theme-color" content="#0b1220"/>
  <meta name="color-scheme" content="dark light"/>
  <title>Cocina — Seven de Burgers</title>
  <link rel="icon" href="../favicon.ico">
  <link rel="stylesheet" href="../shared/styles.css">

  <!-- Parche anti “saltos” de scroll y viewport inestable -->
  <style>
    html, body {
      height: 100%;
      overscroll-behavior-y: contain;
      scroll-behavior: auto !important;
    }
    :root { --vh: 1vh; }
    .shell, .container { min-height: calc(var(--vh, 1vh) * 100); }

    .k-col { contain: layout paint; overflow-anchor: none; will-change: contents; min-height: 40vh; }
    .k-columns { contain: layout; }
    .k-card { contain: content; }

    @media (prefers-reduced-motion: reduce) {
      * { scroll-behavior: auto !important; }
    }
  </style>

  <script>
    // Fija --vh al alto real visible (para evitar saltos en móviles)
    function setVH() {
      const h = (window.visualViewport?.height || window.innerHeight) * 0.01;
      document.documentElement.style.setProperty('--vh', h + 'px');
    }
    setVH();
    window.addEventListener('resize', setVH, { passive: true });
    window.addEventListener('orientationchange', setVH, { passive: true });
  </script>
</head>

<body class="shell">
  <div class="container" role="main" id="appRoot">
    <div class="row" style="margin-bottom:10px">
      <a class="badge" href="../kiosk/">Kiosko</a>
      <div class="right badge" aria-current="page">Cocina</div>
    </div>

    <div id="live-region" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>

    <div class="k-columns">
      <div class="card" role="region" aria-labelledby="h2-pending">
        <h2 id="h2-pending">Pendientes</h2>
        <div id="col-pending" class="col k-col" aria-label="Órdenes pendientes"></div>
      </div>

      <div class="card" role="region" aria-labelledby="h2-progress">
        <h2 id="h2-progress">En preparación</h2>
        <div id="col-progress" class="col k-col" aria-label="Órdenes en preparación"></div>
      </div>

      <div class="card" role="region" aria-labelledby="h2-ready">
        <h2 id="h2-ready">Listos</h2>
        <div id="col-ready" class="col k-col" aria-label="Órdenes listas para entregar"></div>
      </div>

      <div class="card" role="region" aria-labelledby="h2-bill">
        <h2 id="h2-bill">Por cobrar</h2>
        <div id="col-bill" class="col k-col" aria-label="Órdenes por cobrar"></div>
      </div>
    </div>
  </div>

  <!-- RUTA MODERNA (ESM) -->
  <script type="module" src="./app.js"></script>
</body>
</html>

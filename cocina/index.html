<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="theme-color" content="#0b1220"/>
  <title>Cocina — Seven de Burgers</title>
  <link rel="icon" href="../favicon.ico">
  <link rel="stylesheet" href="../shared/styles.css">
</head>
<body class="shell">

  <div class="container" role="main">
    <div class="row" style="margin-bottom:10px">
      <a class="badge" href="../kiosk/">Kiosko</a>
      <div class="right badge" aria-current="page">Cocina</div>
    </div>

    <div id="live-region" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>

    <div class="k-columns">
      <div class="card"><h2>Pendientes</h2><div id="col-pending"  class="col" aria-label="Órdenes pendientes"></div></div>
      <div class="card"><h2>En preparación</h2><div id="col-progress" class="col" aria-label="Órdenes en preparación"></div></div>
      <div class="card"><h2>Listos</h2><div id="col-ready"    class="col" aria-label="Órdenes listas para entregar"></div></div>
      <div class="card"><h2>Por cobrar</h2><div id="col-bill"     class="col" aria-label="Órdenes por cobrar"></div></div>
    </div>
  </div>

  <!-- ====== RUTA MODERNA (ESM) ====== -->
  <script type="module" src="./app.js"></script>

  <!-- ====== LEGACY (sin módulos) ====== -->
  <!-- Polyfills mínimos para iOS viejito -->
  <script nomodule src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/whatwg-fetch@3/dist/fetch.umd.js"></script>
  <script nomodule>
  // console seguro
  (function(){ if(!window.console){window.console={};['log','warn','error','info'].forEach(function(m){console[m]=function(){}});} })();
  // Element.closest
  if (!Element.prototype.closest) {
    Element.prototype.closest = function(s) {
      var el = this; if(!document.documentElement.contains(el)) return null;
      do { if(el.matches && el.matches(s)) return el; el = el.parentElement || el.parentNode; } while (el !== null && el.nodeType === 1);
      return null;
    };
  }
  // NodeList.forEach
  if (window.NodeList && !NodeList.prototype.forEach) {
    NodeList.prototype.forEach = Array.prototype.forEach;
  }
  // Object.assign
  if (!Object.assign) Object.assign = function(t){ for(var i=1;i<arguments.length;i++){ var s=arguments[i]||{}; for(var k in s){ if(Object.prototype.hasOwnProperty.call(s,k)) t[k]=s[k]; } } return t; };
  // String.includes
  if (!String.prototype.includes) { String.prototype.includes = function(s, i){ return this.indexOf(s, i||0) !== -1; }; }
  </script>

  <!-- Libs/DB en modo legacy -->
  <script nomodule src="../shared/compat.js"></script>
  <script nomodule src="../shared/notify.legacy.js"></script>
  <script nomodule src="../shared/db.legacy.js"></script>
  <script nomodule src="./app.legacy.js"></script>
</body>
</html>

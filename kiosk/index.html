<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0b1220"/>

  <link rel="icon" href="../favicon.ico"/>
  <link rel="preload" as="audio" href="../shared/sfx/achievement.mp3">
  <link rel="stylesheet" href="../shared/styles.css"/>
  <title>Kiosko — Seven de Burgers</title>

  <style>
    /* …tu CSS tal cual (no lo repito para abreviar)… */
  </style>
</head>

<body class="has-sidebars">
<header class="header">
  <div class="brand" id="brandTap">
    <span class="dot"></span>
    <div>
      <div>Seven de Burgers</div>
      <div class="title-sub">Kiosko</div>
    </div>
  </div>
  <nav id="navRoles" style="display:none;gap:8px">
    <a class="btn ghost small" href="../mesero/">Mesero</a>
    <a class="btn ghost small" href="../cocina/">Cocina</a>
    <a class="btn ghost small" href="../admin/">Admin</a>
  </nav>
</header>

<!-- …TU MARCADO (asides, main, modales, cartbar)… -->

<!-- ===== Scripts ===== -->

<!-- (Opcional pero MUY recomendado) Aplicar tema -->
<script type="module">
  import { applyThemeLocal, initThemeFromSettings } from '../shared/theme.js';

  // 1) Si hay data-theme-name úsalo; 2) si no, toma el global de settings/theme; 3) fallback a "Base"
  const attr = document.documentElement.getAttribute('data-theme-name');
  if (attr) {
    try { applyThemeLocal(attr); } catch {}
  } else {
    try { initThemeFromSettings({ defaultName: 'Base' }); } catch {}
  }
</script>

<!-- 1) Versión moderna (ESM) — sólo UNA vez -->
<script type="module" src="./app.js"></script>

<!-- 2) Compatibilidad para navegadores sin módulos (LEGACY) -->
<script nomodule src="../shared/compat.js"></script>
<script nomodule src="../shared/notify.legacy.js"></script>
<script nomodule src="../shared/db.legacy.js"></script>
<script nomodule src="./app.legacy.js"></script>
</body>
</html>
